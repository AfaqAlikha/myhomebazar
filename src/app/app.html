<mat-sidenav-container class="min-h-screen">
  <!-- Drawer -->
  <mat-sidenav
    #drawer
    mode="over"
    class="custom-sidenav bg-[var(--color-card)]"
  >
    <nav class="flex flex-col p-6 gap-4">
      <ul class="flex flex-col gap-3">
        <li>
          <a
            routerLink="/home"
            routerLinkActive="active-link"
            [routerLinkActiveOptions]="{ exact: true }"
            class="nav-link flex items-center gap-2 text-[var(--color-text)] dark:text-[var(--color-text)]"
            (click)="drawer.close()"
          >
            <mat-icon>home</mat-icon>
            Home
          </a>
        </li>

        <li>
          <a
            routerLink="/shop"
            routerLinkActive="active-link"
            [routerLinkActiveOptions]="{ exact: true }"
            class="nav-link flex items-center gap-2 text-[var(--color-text)] dark:text-[var(--color-text)]"
            (click)="drawer.close()"
          >
            <mat-icon>storefront</mat-icon>
            Shop
          </a>
        </li>

        <li>
          <a
            routerLink="/contact"
            routerLinkActive="active-link"
            [routerLinkActiveOptions]="{ exact: true }"
            class="nav-link flex items-center gap-2 text-[var(--color-text)] dark:text-[var(--color-text)]"
            (click)="drawer.close()"
          >
            <mat-icon>call</mat-icon>
            Contact
          </a>
        </li>

        <li>
          <a
            routerLink="/about"
            routerLinkActive="active-link"
            [routerLinkActiveOptions]="{ exact: true }"
            class="nav-link flex items-center gap-2 text-[var(--color-text)] dark:text-[var(--color-text)]"
            (click)="drawer.close()"
          >
            <mat-icon>info</mat-icon>
            About
          </a>
        </li>

        <li>
          <a
            routerLink="/wishlist"
            routerLinkActive="active-link"
            [routerLinkActiveOptions]="{ exact: true }"
            class="nav-link flex items-center gap-2 text-[var(--color-text)] dark:text-[var(--color-text)]"
            (click)="drawer.close()"
          >
            <mat-icon>favorite</mat-icon>
            Wishlist
          </a>
        </li>

        <li>
          <a
            routerLink="/cart"
            routerLinkActive="active-link"
            [routerLinkActiveOptions]="{ exact: true }"
            class="nav-link flex items-center gap-2 text-[var(--color-text)] dark:text-[var(--color-text)]"
            (click)="drawer.close()"
          >
            <mat-icon>shopping_cart</mat-icon>
            Cart
          </a>
        </li>

        <!-- ðŸ”¹ Auth Section -->
        @if(token) {
        <li>
          <a
            mat-flat-button
            [routerLink]="['/profile', user?.name]"
            routerLinkActive="active-link"
            [routerLinkActiveOptions]="{ exact: true }"
            class="flex items-center gap-2 !text-base font-semibold px-4 py-2 rounded-md text-white bg-[var(--color-accent)] hover:bg-[var(--color-accent-hover)]"
            (click)="drawer.close()"
          >
            <mat-icon>person</mat-icon>
            Profile
          </a>
        </li>

        <li>
          <button
            mat-flat-button
            (click)="logout(); drawer.close()"
            class="flex items-center gap-2 !text-base font-semibold px-4 py-2 rounded-md text-white bg-[var(--color-accent)]"
          >
            <mat-icon>logout</mat-icon>
            Logout
          </button>
        </li>
        } @else {
        <li>
          <a
            routerLink="/signin"
            routerLinkActive="active-link"
            mat-flat-button
            class="flex items-center gap-2 !text-base font-semibold px-4 py-2 rounded-md text-white bg-[var(--color-accent)] hover:bg-[var(--color-accent-hover)]"
            (click)="drawer.close()"
          >
            <mat-icon>login</mat-icon>
            Sign In
          </a>
        </li>

        <li>
          <a
            routerLink="/signup"
            routerLinkActive="active-link"
            mat-flat-button
            class="flex items-center gap-2 !text-base font-semibold px-4 py-2 rounded-md text-white bg-[var(--color-accent)] hover:bg-[var(--color-accent-hover)]"
            (click)="drawer.close()"
          >
            <mat-icon>person_add</mat-icon>
            Sign Up
          </a>
        </li>
        }
      </ul>
    </nav>
  </mat-sidenav>

  <!-- Main Content -->
  <mat-sidenav-content>
    <app-header (toggleDrawerEvent)="drawer.toggle()"></app-header>
    <ngx-spinner
      bdColor="rgba(51,51,51,0.8)"
      size="medium"
      color="#fff"
      type="ball-scale-multiple"
      [fullScreen]="true"
    >
    </ngx-spinner>

    <main class="min-h-screen">
      <router-outlet></router-outlet>
    </main>

    <app-footer></app-footer>
  </mat-sidenav-content>
</mat-sidenav-container>
