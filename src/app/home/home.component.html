<app-home-hero *ngIf="!isLoading" [featured]="featured"></app-home-hero>
<div
  *ngIf="isLoading"
  class="hero-section bg-gray-300 animate-pulse w-full h-[450px] md:h-[650px]"
></div>
<div class="container mx-auto my-3">
  <div class="container mx-auto my-6 px-2">
    <h2
      class="text-3xl font-bold mb-2 text-[var(--color-accent)] dark:text-[var(--color-accent)]"
    >
      Shop by Categories
    </h2>
    <div
      class="w-16 h-1 rounded my-3"
      style="background-color: var(--color-accent)"
    ></div>
    <app-category-links *ngIf="!isLoading"></app-category-links>
    <div *ngIf="isLoading" class="flex gap-3 mb-6">
      <div
        *ngFor="let i of [1, 2, 3, 4, 5]"
        class="w-24 h-8 bg-gray-300 rounded animate-pulse"
      ></div>
    </div>
    <div class="container mx-auto my-6 px-2">
      <h2
        class="text-3xl font-bold mb-2 text-[var(--color-accent)] dark:text-[var(--color-accent)]"
      >
        Popular Products
      </h2>
      <div
        class="w-16 h-1 rounded"
        style="background-color: var(--color-accent)"
      ></div>
      <div
        class="my-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"
      >
        <!-- Products -->
        <ng-container *ngIf="!isLoading">
          <app-product-card
            *ngFor="let product of products"
            [product]="product"
          ></app-product-card>
        </ng-container>

        <!-- Skeletons -->
        <ng-container *ngIf="isLoading">
          <div
            *ngFor="let i of [1, 2, 3, 4, 5, 6, 7, 8]"
            class="p-4 bg-gray-200 rounded animate-pulse h-80 w-full"
          ></div>
        </ng-container>
      </div>
    </div>
    <div class="flex justify-end mt-6">
      <mat-paginator
        [length]="totalItems"
        [pageSize]="itemsPerPage"
        [pageSizeOptions]="[itemsPerPage]"
        (page)="pageChanged($event)"
      >
      </mat-paginator>
    </div>
  </div>
</div>
